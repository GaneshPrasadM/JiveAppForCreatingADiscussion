<html>
<head>
    <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="stylesheets/main.css" type="text/css" media="screen" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
    <!-- NOT NEEDED IF USING <Require feature="jive-core-v3-resolver"/> in app.xml -->
    <!-- <script type="text/javascript" charset="utf-8" src="javascripts/coreapi-context-resolver-v3.js"></script> -->
    <script type="text/javascript" charset="utf-8" src="javascripts/app.js"></script>
    <!-- NOTE: main.js SHOULD RUN LAST -->
    <script type="text/javascript" charset="utf-8" src="javascripts/main.js"></script>

<script>
     function onViewer(viewer) {
         gadgets.window.adjustHeight();
         
         $("#btn_discuss").click(function () {
             var discussion = {
                 content: {
                    type: 'text/html',
                     text: '<body><p>'+ $("#discussion").val() + '</p></body>'
                 },
                 subject: $("#subject").val()
             };
             osapi.jive.corev3.discussions.create(discussion).execute(function (response) {
                 console.log(response);
             });
             alert('Discussion created with subject: '+$("#subject").val());
             jive.tile.close(null, {});
         });
     };
   </script>
</head>
 
<body>
   <div class="container">
       <div class="container text-center">
     <h3>Create Discussion</h3>
       </div>
     <br /><br />
     <div class="form-group">
     <label for="Subject">Subject:</label><br />
     <textarea class="form-control" type="textarea" id="subject" rows="1" cols="25"></textarea>
     </div>
     <br /><br />
     <div class="form-group">
     <label for="Body">Body:</label><br />
     <textarea class="form-control" type="textarea" id="discussion" rows="4" cols="50"></textarea>
     </div>
     <br /><br />
     <div class="pull-right">
     <button class="btw btn-primary" id="btn_discuss">Discuss &nbsp;<span class="glyphicon glyphicon-comment"></span></button>
     <button class="btw btn-primary" id="btn_submit">Exit &nbsp;<span class="glyphicon glyphicon-remove-circle"></span></button>
     </div>
   </div>
</body>

</body>

</html>
